/* ========== GitHub 暗色主题变量定义 ========== */
:root {
  --bg-color: #0d1117;        /* GitHub 主背景色 */
  --text-color: #c9d1d9;      /* GitHub 主文字色 */
  --code-bg: #161b22;         /* GitHub 代码块背景 */
  --border-color: #30363d;    /* GitHub 边框色 */
  --link-color: #58a6ff;      /* GitHub 链接蓝 */
  --link-visited-color: #8e44ad; /* 已访问链接 */
  --table-header-bg: #161b22; /* 表头背景 */
  --blockquote-border: #3b434b; /* 引用块边框 */
}

/* ========== 基础全局样式 ========== */
body,
.md-main,
.md-main__inner,
.md-content,
.md-typeset,
article,
.main-article {
  background-color: var(--bg-color) !important;
  color: var(--text-color) !important;
}

/* ========== 代码块与行内代码 ========== */
.md-typeset code,
.md-typeset pre,
.highlight,
.highlighttable,
.linenodiv,
.linenodiv pre {
  background-color: var(--code-bg) !important;
  color: var(--text-color) !important;
}

/* ========== 表格样式 ========== */
.md-typeset table:not([class]) {
  background-color: var(--bg-color) !important;
}
.md-typeset table:not([class]) tr {
  background-color: var(--bg-color) !important;
  color: var(--text-color) !important;
}
.md-typeset table:not([class]) th {
  background-color: var(--table-header-bg) !important;
  color: var(--text-color) !important;
}
.md-typeset table:not([class]) td {
  color: var(--text-color) !important;
}

/* ========== 链接样式 ========== */
.md-typeset a {
  color: var(--link-color) !important;
}
.md-typeset a:visited {
  color: var(--link-visited-color) !important;
}

/* ========== 引用块 ========== */
.md-typeset blockquote {
  background-color: var(--code-bg) !important;
  border-left: 4px solid var(--blockquote-border) !important;
  color: var(--text-color) !important;
}
.md-typeset blockquote p {
  color: var(--text-color) !important;
}

/* ========== 导航栏（顶部 + 标签） ========== */
.md-header,
.md-header-nav,
.md-header-nav__title,
.md-header-nav__source,
.md-tabs,
.md-tabs__list,
.md-tabs__item,
.md-tabs__link {
  background-color: var(--bg-color) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
  box-shadow: none !important;  /* 移除Material阴影 */
}

/* ========== 侧边栏 ========== */
.md-sidebar,
.md-nav,
.md-nav__title,
.md-nav__link,
.md-nav__item {
  background-color: var(--bg-color) !important;
  color: var(--text-color) !important;
}

/* ========== 搜索框及结果 ========== */
.md-search__form,
.md-search__input,
.md-search__icon,
.md-search-result__meta,
.md-search-result__article,
.md-search-result__list {
  background-color: var(--code-bg) !important;
  color: var(--text-color) !important;
}
.md-search-result mark {
  background-color: #161b22 !important;
  color: #58a6ff !important;
}

/* ========== 返回顶部按钮 ========== */
.md-top {
  background-color: var(--bg-color) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
}

/* ========== 覆盖 Material 主题原生变量 ========== */
:root {
  --md-primary-bg-color: var(--bg-color) !important;
  --md-primary-fg-color: var(--text-color) !important;
  --md-default-bg-color: var(--bg-color) !important;
  --md-default-fg-color: var(--text-color) !important;
  --md-typeset-color: var(--text-color) !important;
  --md-code-bg-color: var(--code-bg) !important;
  --md-code-fg-color: var(--text-color) !important;
  --md-typeset-table-color: var(--border-color) !important;
}

/* ========== 移动端菜单侧边栏 ========== */
.md-nav__title,
.md-nav__source {
  background-color: var(--bg-color) !important;
  color: var(--text-color) !important;
}

/* ========== 特殊组件修复 ========== */
.md-typeset .admonition,
.md-typeset details {
  background-color: var(--code-bg) !important;
  border-color: var(--border-color) !important;
}
.md-typeset .admonition-title,
.md-typeset summary {
  background-color: var(--table-header-bg) !important;
  color: var(--text-color) !important;
}

/* ========== 一二级标题强制修复 ========== */

/* 通用标题选择器（保险用） */
h1, h2, h3, h4, h5, h6 {
  color: var(--text-color) !important;
}

/* Material主题专用高优先级选择器 */
.md-typeset h1,
.md-typeset h2,
.md-typeset h3,
.md-typeset h4,
.md-typeset h5,
.md-typeset h6 {
  color: var(--text-color) !important;
}

/* 覆盖标题锚点图标颜色 */
.md-typeset h1 .headerlink,
.md-typeset h2 .headerlink,
.md-typeset h3 .headerlink {
  color: var(--text-color) !important;
  opacity: 0.5;
}

/* 覆盖Material主题标题变量 */
:root {
  --md-default-fg-color--light: var(--text-color) !important;
  --md-default-fg-color--lighter: var(--text-color) !important;
  --md-default-fg-color--lightest: var(--text-color) !important;
}
